<div class="new-order">
    <div *ngIf="isLoading" class="center-spinner"> <app-loading-spinner></app-loading-spinner> </div>
    <div class="heading-container">
        <h2 class="heading-font">All Orders</h2>
    </div>

    <div class="row" style="margin-bottom: 1px;">

        <div class="col-sm-12 col-md-12 col-lg-6 col-xl-4 " style="margin-bottom: 25px;"
            *ngFor="let order of orders; let i= index">
            <div class="card-main">
                <div class="card-entry">
                    <div class="d-flex justify-content-between">
                        <div>
                            <h3>{{order.orderNumber}}</h3>
                            <p style="margin-bottom: 16px; color: #a1a1a1; font-size: 1.15rem;">{{order.orderTime}}</p>
                        </div>
                        <div (click)="ondeleteOrder(order.id)">
                            <span class="material-symbols-outlined delete">
                                delete_forever
                            </span>
                        </div>
                    </div>
                    <div style="height: 200px; overflow-y: auto;   overflow-x: hidden; " class="scrool">
                        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 15px; margin-right: 15px;"
                            *ngFor="let food of order.orderItems">
                            <div>
                                <img src="{{food.food.image}}" width="80" style="border-radius: 50%;">
                            </div>
                            <div style="width: 100%;">
                                <h3 style="margin-bottom: 8px;">{{food.food.name}}</h3>
                                <div class="d-flex justify-content-between">
                                    <p style="font-weight: bold; font-size: 1.15rem; color: #4caf50;">
                                        {{food.food.discountPrice}}৳</p>
                                    <p style="font-size: 1.15rem;">Qty:{{food.quantity}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>

                    <div style="display: flex; margin-top: 12px; align-items: stretch; justify-content: space-between;">
                        <div>
                            <p style="margin-bottom: 4px; font-size: 1.15rem;">Total Item: {{order.orderItems.length}}
                            </p>
                            <p style="margin-bottom: 4px; font-weight: bold;  font-size: 1.25rem;">Total: <span
                                    style="color: #4caf50;">{{order.amount}}৳</span>
                            </p>
                        </div>
                        <div>
                            <p style="margin-bottom: 4px; font-size: 1.15rem;">Table: <span
                                    style="font-weight: bold;">{{order.table.tableNumber}}</span> </p>
                            <div class="d-flex justify-content-between">
                                <app-order-status [orderId]="order.id" [orderStatustext]="order.orderStatus"
                                    (reloadOrders)="getOrder()"></app-order-status>
                                <!-- <div>
                                    <div *ngIf="!showDropdown[i]; else drop" class="d-flex justify-content-between">
                                        <p style="margin-bottom: 4px; font-size: 1.15rem;">{{ selectedStatusText[i] ||
                                            'Preparing' }}

                                        </p>
                                        <span class="material-symbols-outlined"
                                            style="color: rgb(95, 119, 59); cursor: pointer;"
                                            (click)="toggleDropdown(i)">
                                            edit_square
                                        </span>
                                    </div>
                                    <ng-template #drop>
                                        <select [(ngModel)]="selectedStatus[i]" (change)="onStatusChange(i)">
                                            <option *ngFor="let status of orderStatus" [value]="status.value">
                                                {{ status.text }}
                                            </option>
                                        </select>
                                    </ng-template>

                                </div> -->

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>